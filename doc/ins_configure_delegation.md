# Configure delegation

A transaction to configure the delegation of stake.

## Protocol description

- Single command

| INS    | P1     | P2     | CDATA                                                                                                                                                                                                                                       | Comment                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| ------ | ------ | ------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `0x17` | `0x00` | `0x00` | `path_length path[uint32]x[8] account_transaction_header[60 bytes] transaction_kind[uint8] bitmap[uint16] (optional) capitalAmount[uint64] (optional) restakeEarnings[uint8] (optional) delegationTarget[uint8] (optional) bakerId[uint64]` | The `bitmap` is used to indicate which of the optional parameters that are sent. For example `5 = 0b101`, which translates to the capital and delegation target parameters being sent in the transaction, whereas e.g. `2 = 0b010` means that only the restake earnings parameter is sent. Restake earnings has to be either 0 (do not restake), or 1 (do restake). The delegationTarget has to be either 0 (Passive delegation) or 1 (Specific baker). Note that a bakerId should only be supplied if `delegationTarget = 1`. Note that it is not valid to not supply any of the optional parameters, i.e. at least one of the capital, restake or delegation target must be supplied. |
